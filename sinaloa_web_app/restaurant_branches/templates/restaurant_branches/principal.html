{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{% static 'estilos/principal.css' %}">

   <!-- Bootstrap CSS -->
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/5.3.0/css/bootstrap.min.css" rel="stylesheet">



    <title>Sinaloa Restaurante</title>
</head>
    <body>
        <style>
            .header {
                background-image: 
                    linear-gradient(to bottom, rgba(0, 0, 0, 0.4) 60%, rgba(0, 0, 0, 0.8) 100%), 
                    url("{% static 'images/fondo.jpg' %}");
                background-position: center center;
                background-repeat: no-repeat;
                background-size: cover;
                min-height: 70vh;
                display: flex;
                align-items: center;
                position: relative;
                color: #fff;
            }
        </style>
        <header class="header">
        
        <!-- Navbar Container -->
        <div class="menu">
            <!-- Logo -->
            <a href="{% url 'restaurant_branches:home' %}" class="logo">Sinaloa Restaurante</a>

            <!-- Checkbox for Responsive Menu -->
            <input type="checkbox" id="menu"/>
            <label for="menu" class="menu-icono">
                <img src="{% static 'images/menu.png' %}" alt="menu" width="25px">
            </label>

            <!-- Navbar Links -->
            <nav class="navbar">
                <ul>
                    <li><a href="#">Historia</a></li>
                    <li><a href="#">Nosotros</a></li>
                    <li><a href="#">Redes sociales</a></li>
                    
                    
                    {% for restaurant in restaurants %}
                        <li><a href="{% url 'restaurant_branches:menus' restaurant.slug %}">Sucursales</a></li>
                        
                    {% empty %}
                        <p>No hay restaurantes</p>
                    {% endfor %}
                    
                </ul>
            </nav>
        </div>
        
        <!-- Header Content -->
        <div class="header-content container">
            <div class="header-txt">
                <h1>Restaurante de Mariscos</h1>
                <p>Con sazón originario</p>
                <p> de los Mochis Sianloa</p>
            </div>
        </div>
    </header>

    <!-- Additional Content -->
    <section class="carousel">
      <div class="carousel-container">
          <!-- Slide 1 -->
          <div class="carousel-slide">
              <img src="{% static 'images/1.jpg' %}" alt="Platillo 1">
             
          </div>
          
          <!-- Slide 2 -->
          <div class="carousel-slide">
              <img src="{% static 'images/2.jpg' %}" alt="Platillo 2">
              
          </div>
          
          <!-- Slide 3 -->
          <div class="carousel-slide">
              <img src="{% static 'images/3.jpg' %}" alt="Platillo 3">
              
          </div>
      </div>
  
      <!-- Navigation Buttons -->
      <button class="carousel-btn prev" onclick="moveSlide(-1)">❮</button>
      <button class="carousel-btn next" onclick="moveSlide(1)">❯</button>
  </section>


    <section>
        <div class="direcciones">
            {% for restaurant in restaurants %}
                <div class="card ">
                    <div class="first-content" >          
                        <span>
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-geo-alt-fill" viewBox="0 0 16 16">
                            <path d="M8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10m0-7a3 3 0 1 1 0-6 3 3 0 0 1 0 6"/>
                            </svg> {{ restaurant.locality }}
                        </span>
                    </div>
                    <div class="second-content ms-10">
                        <span>
                            {{ restaurant.address }}
                        </span>
                    </div>
                </div>
                <div class="map-row">
                    <iframe src="{{ restaurant.google_link }}" 
                        class="mapa"></iframe>
                </div> 
            {% empty %}
                <p>No hay restaurantes</p>
            {% endfor %}
        </div>

        
     
  </section>


  <script>
    let currentSlide = 0;
    
    function showSlide(index) {
        const slides = document.querySelector('.carousel-container');
        const totalSlides = document.querySelectorAll('.carousel-slide').length;
    
        // Loop back to the beginning or end of slides
        if (index >= totalSlides) currentSlide = 0;
        if (index < 0) currentSlide = totalSlides - 1;
    
        // Move slides
        slides.style.transform = 'translateX(' + (-currentSlide * 100) + '%)';
    }
    
    function moveSlide(step) {
        currentSlide += step;
        showSlide(currentSlide);
    }
    
    // Auto slide every 5 seconds
    setInterval(() => {
        moveSlide(1);
    }, 5000);
    
    </script>

<script>
document.addEventListener("DOMContentLoaded", function() {
    const headerText = document.querySelector(".header-txt");
    let animationTimeout;

    function checkVisibility() {
        const rect = headerText.getBoundingClientRect();
        const isVisible = rect.top < window.innerHeight && rect.bottom >= 0;

        if (isVisible && !headerText.classList.contains("animated")) {
            headerText.classList.add("animated");
        } else if (!isVisible) {
            // Limpiamos el temporizador y removemos la clase después de un retraso
            clearTimeout(animationTimeout);
            animationTimeout = setTimeout(() => {
                headerText.classList.remove("animated");
            }, 100); // Espera 0.5s antes de eliminar la clase
        }
    }

    window.addEventListener("scroll", checkVisibility);
    checkVisibility();
});

</script>
    </body>
    <!-- Footer Section -->
<footer class="footer">
  <div class="container">
      <div class="row">
        
          <!-- Column 3: Contact Info -->
          <div class="col-md-4">
              
              <p>© 1996–2024 Pearson All rights reserved.</p>
              
          </div>
      </div>

      
  </div>
</footer>
</html>